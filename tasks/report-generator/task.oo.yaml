inputs_def:
  - handle: charts
    description: "%array-of-chart-objects-with-title-base64-image-and-description%"
    json_schema:
      type: array
      items:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          description:
            type: string
    nullable: false

  - handle: analysis_goal
    description: "%the-high-level-goal-of-the-analysis%"
    json_schema:
      type: string
      ui:widget: text
    nullable: false

  - handle: llm
    description: "%llm-model-configuration-for-report-generation%"
    json_schema:
      ui:widget: llm::model
    value:
      model: oomol-chat
      temperature: 0.5
      top_p: 1
      max_tokens: 128000
    nullable: false

outputs_def:
  - handle: markdown_report
    description: "%complete-markdown-report-with-embedded-charts%"
    json_schema:
      type: string
    nullable: false

  - handle: report_file
    description: "%path-to-saved-markdown-file%"
    json_schema:
      type: string
    nullable: false

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%report-generator%"
icon: ":carbon:document-tasks:"
description: "%generate-comprehensive-markdown-reports-integrating-charts-and-a%"
