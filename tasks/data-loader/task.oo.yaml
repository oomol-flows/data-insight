inputs_def:
  - handle: source_type
    description: "%type-of-data-source-to-load%"
    json_schema:
      type: string
      enum:
        - csv
        - excel
        - json
        - mysql
        - postgresql
        - sqlite
      ui:options:
        labels:
          - CSV File
          - Excel File
          - JSON File
          - MySQL Database
          - PostgreSQL Database
          - SQLite Database
    value: "csv"
    nullable: false

  - handle: file_path
    description: "%path-to-the-data-file-required-for-csv-excel-json%"
    json_schema:
      type: string
      ui:widget: file
    nullable: true

  - group: Database Configuration
    collapsed: true

  - handle: database_config
    description: "%database-connection-configuration-required-for-mysql-postgresql%"
    json_schema:
      type: object
      properties:
        host:
          type: string
        port:
          type: number
        database:
          type: string
        username:
          type: string
        password:
          type: string
          contentMediaType: oomol/secret
        query:
          type: string
          ui:widget: text
      ui:widget: object
    value:
    nullable: true

outputs_def:
  - handle: data_table
    description: "%standard-table-format-with-columns-rows-and-schema%"
    json_schema:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
        rows:
          type: array
          items:
            type: object
        schema:
          type: object
    nullable: false

  - handle: preview_html
    description: "%html-table-preview%"
    json_schema:
      type: string
    nullable: false

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%data-loader%"
icon: ":carbon:document-import:"
description: "%load-tabular-data-from-multiple-sources-files-csv-excel-json-and%"
