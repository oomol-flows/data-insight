inputs_def:
  - handle: data_table
    description: "%input-data-table-to-check-for-quality-issues%"
    json_schema:
      type: object
      properties:
        columns:
          type: array
        rows:
          type: array
        schema:
          type: object
    nullable: false

  - handle: auto_clean
    description: "%automatically-clean-common-issues-missing-values-outliers%"
    json_schema:
      type: boolean
    value: true
    nullable: false

  - handle: llm
    description: "%llm-for-generating-cleaning-suggestions%"
    json_schema:
      ui:widget: llm::model
    value:
      model: oomol-chat
      temperature: 0.5
      top_p: 1
      max_tokens: 128000
    nullable: false

outputs_def:
  - handle: quality_report
    description: "%detailed-quality-assessment-report%"
    json_schema:
      type: object
      properties:
        overall_score:
          type: number
        missing_values:
          type: object
        outliers:
          type: object
        type_issues:
          type: array
        duplicate_rows:
          type: number
    nullable: false

  - handle: cleaning_suggestions
    description: "%ai-generated-suggestions-for-data-cleaning%"
    json_schema:
      type: string
    nullable: false

  - handle: cleaned_table
    description: "%cleaned-data-table-if-auto_clean-is-enabled%"
    json_schema:
      type: object
      properties:
        columns:
          type: array
        rows:
          type: array
        schema:
          type: object
    nullable: false

  - handle: quality_visualization
    description: "%base64-encoded-visualization-of-quality-issues%"
    json_schema:
      type: string
    nullable: true

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%data-quality-checker%"
icon: ":carbon:data-quality-definition:"
description: "%analyze-data-quality-detect-issues-missing-values-outliers-dupli%"
