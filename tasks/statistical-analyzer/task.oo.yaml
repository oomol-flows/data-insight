inputs_def:
  - handle: data_table
    description: "%input-data-table-for-statistical-analysis%"
    json_schema:
      type: object
      properties:
        columns:
          type: array
        rows:
          type: array
        schema:
          type: object
    nullable: false

  - handle: analysis_type
    description: "%type-of-statistical-analysis-to-perform%"
    json_schema:
      type: string
      enum:
        - correlation
        - t_test
        - descriptive_stats
        - normality_test
      ui:options:
        labels:
          - Correlation Analysis
          - T-Test (Two Sample)
          - Descriptive Statistics
          - Normality Test
    value: descriptive_stats
    nullable: false

  - group: Analysis Parameters
    collapsed: true

  - handle: variables
    description: "%variables-to-analyze-field-names-from-data_table%"
    json_schema:
      type: object
      properties:
        independent:
          type: array
          items:
            type: string
        dependent:
          type: string
        group_column:
          type: string
      ui:widget: object
    value:
    nullable: true

  - handle: llm
    description: "%llm-configuration-for-generating-interpretations%"
    json_schema:
      ui:widget: llm::model
    value:
      model: oomol-chat
      temperature: 0.5
      top_p: 1
      max_tokens: 128000
    nullable: false

outputs_def:
  - handle: test_result
    description: "%statistical-test-results-with-statistics-and-p-values%"
    json_schema:
      type: object
    nullable: false

  - handle: interpretation
    description: "%ai-generated-interpretation-of-the-results%"
    json_schema:
      type: string
    nullable: false

  - handle: visualization
    description: "%base64-encoded-visualization-if-applicable%"
    json_schema:
      type: string
    nullable: true

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "%statistical-analyzer%"
icon: ":carbon:chart-scatter:"
description: "%perform-statistical-tests-and-analyses-with-ai-powered-interpret%"
