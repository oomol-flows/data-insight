title: "Test NL-to-SQL Preview"
description: "Simple flow to test the enhanced preview in nl-to-sql block"

nodes:
  # Step 1: Load CSV data
  - node_id: load#1
    task: self::data-loader
    inputs_from:
      - handle: source_type
        value: csv
      - handle: file_path
        value: /oomol-driver/oomol-storage/sample_sales.csv

  # Step 2: Transform data to test preview
  - node_id: transform#1
    task: self::nl-to-sql
    inputs_from:
      - handle: input_table
        from_node:
          - node_id: load#1
            output_handle: data_table
      - handle: instruction
        value: "Show all products with sales greater than 10000"
      - handle: llm
        value:
          model: oomol-chat
          temperature: 0.5
          top_p: 1
          max_tokens: 128000
