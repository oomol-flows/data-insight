title: "Test Data Quality Checker"
description: "Demonstrate data quality analysis and automatic cleaning"

nodes:
  # Step 1: Load data
  - node_id: load#1
    task: self::data-loader
    inputs_from:
      - handle: source_type
        value: csv
      - handle: file_path
        value: /oomol-driver/oomol-storage/sample_sales.csv
      - handle: database_config
        value: null

  # Step 2: Check and clean data quality
  - node_id: quality#1
    task: self::data-quality-checker
    inputs_from:
      - handle: data_table
        from_node:
          - node_id: load#1
            output_handle: data_table
      - handle: auto_clean
        value: true
      - handle: llm
        value:
          model: oomol-chat
          temperature: 0.5
          top_p: 1
          max_tokens: 128000

  # Step 3: Analyze cleaned data
  - node_id: transform#1
    task: self::nl-to-sql
    inputs_from:
      - handle: input_table
        from_node:
          - node_id: quality#1
            output_handle: cleaned_table
      - handle: instruction
        value: "Show summary statistics of the cleaned data"
      - handle: llm
        value:
          model: oomol-chat
          temperature: 0.5
          top_p: 1
          max_tokens: 128000
